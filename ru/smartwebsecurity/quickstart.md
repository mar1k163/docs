# Как начать работать с {{ sws-full-name }}

{{ sws-name }} позволяет защитить вашу инфраструктуру от [DDoS-атак](../glossary/ddos.md) и ботов на уровне приложений (L7).

Сервис находится на [стадии Preview](../overview/concepts/launch-stages.md).

{% include [ask-for-turning-on](../_includes/smartwebsecurity/ask-for-turning-on.md) %}

Создайте первый [профиль безопасности](./concepts/profiles.md) и подключите его к имеющемуся [виртуальному хосту](../application-load-balancer/concepts/http-router.md#virtual-host) L7-балансировщика {{ alb-full-name }}.

Если у вас еще не настроен L7-балансировщик, вы можете опробовать {{ sws-name }} на тестовой инфраструктуре. Подробнее см. [{#T}](./tutorials/balancer-with-sws-profile.md).

Чтобы начать работу с сервисом:
1. [Создайте профиль безопасности](#profile-create).
1. [Проверьте настройки профиля безопасности](#profile-check).
1. [Подключите профиль безопасности к виртуальному хосту](#profile-connect).

## Подготовьте облако к работе {#before-you-begin}

{% include [before-you-begin](../_tutorials/_tutorials_includes/before-you-begin.md) %}

## Создайте профиль безопасности {#profile-create}

Профиль безопасности является основным элементом сервиса {{ sws-name }} и состоит из набора правил, каждое из которых содержит условия для фильтрации входящих пользовательских запросов к защищаемому ресурсу.

Чтобы создать профиль безопасности:

{% list tabs %}

- Консоль управления

  1. В [консоли управления]({{ link-console-main }}) выберите каталог, в котором вы хотите создать профиль.
  1. В списке сервисов выберите **{{ sws-name }}**.
  1. Нажмите кнопку **Создать профиль безопасности** и выберите **По преднастроенному шаблону**.

      Преднастроенный профиль содержит:
      * [базовое правило](./concepts/rules.md#base-rules) по умолчанию, включенное для всего трафика с [типом действия](./concepts/rules.md#rule-action) — **Запретить**;
      * [правило Smart Protection](./concepts/rules.md#smart-protection-rules), включенное для всего трафика, с типом действия — **Полная защита**.

      {% include [smart-protection-tip](../_includes/smartwebsecurity/smart-protection-tip.md) %}

  1. Введите имя профиля, например `test-sp1`.
  1. В поле **Действие базового правила по умолчанию** выберите **Запретить**.
  1. Нажмите кнопку **Создать**.

{% endlist %}

## Проверьте настройки профиля безопасности {#profile-check}

{% list tabs %}

- Консоль управления

  1. Выберите профиль `test-sp1`, созданный ранее.
  1. Убедитесь, что на вкладке **Правила безопасности** есть правило со следующими параметрами:
      * **Тип** — `Smart Protection`.
      * **Действие** — `Полная защита`.
      * **Условие** — `Весь трафик`.

      Это правило отправляет весь трафик, приходящий к защищаемому ресурсу, на автоматическую оценку с помощью алгоритмов машинного обучения и поведенческого анализа. По результатам автоматической оценки:
      * Легитимные запросы направляются к защищаемому ресурсу.
      * Нелегитимные запросы и атаки блокируются.
      * Подозрительные запросы направляться в [{{ captcha-name }}](../smartcaptcha/) для дополнительной верификации.

{% endlist %}

## Подключите профиль безопасности к виртуальному хосту {#profile-connect}

{% list tabs %}

- Консоль управления

  1. Справа сверху нажмите кнопку ![plug](../_assets/smartwebsecurity/plug.svg) **Подключить к хосту**.
  1. В открывшемся окне выберите:
      * [**Балансировщик**](../application-load-balancer/concepts/application-load-balancer.md).
      * [**HTTP-роутер**](../application-load-balancer/concepts/http-router.md).
      * [**Виртуальный хост**](../application-load-balancer/concepts/http-router.md#virtual-host). Вы можете подключить профиль безопасности сразу к нескольким хостам.

        Чтобы подключить профиль к еще одному L7-балансировщику, нажмите кнопку **Добавить балансировщик**.
  1. Нажмите кнопку **Подключить**.

      На вкладке **Подключенные хосты** появится подключенный виртуальный хост.

{% endlist %}

### См. также {#see-also}

* [{#T}](./concepts/profiles.md)
* [{#T}](./operations/profile-create.md)
* [Создать L7-балансировщик с профилем безопасности](./tutorials/balancer-with-sws-profile.md)
